var merge = require('merge');

function deepEquals(obj1, obj2) {
    function _equals(obj1, obj2) {
        return JSON.stringify(obj1)
            === JSON.stringify(merge(true, obj1, obj2));
    }

    return _equals(obj1, obj2) && _equals(obj2, obj1);
}

module.exports = {
    deepEquals: deepEquals
};